
| –†–µ—à–µ–Ω–∏–µ           | –í—Ä–µ–º—è    | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                |
  |-------------------|----------|--------------------------------------------|
| SwarSolution      | 5,964ms  | –¢–µ–∫—É—â–∏–π –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ä—É—á–Ω–æ–π SWAR)     |
| VectorApiSolution | 12,794ms | –ù–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ (Vector API + MemorySegment) |

üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- ‚úÖ Vector API - –Ω–∞—Å—Ç–æ—è—â–∏–µ SIMD –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ ByteVector.SPECIES_PREFERRED
- ‚úÖ MemorySegment API - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —á–µ—Ä–µ–∑ Arena.ofShared()
- ‚úÖ ExecutorService - –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ ByteArrayKey - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è String –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏

ü§î –ü–æ—á–µ–º—É –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ?

VectorApiSolution –æ–∫–∞–∑–∞–ª—Å—è –≤ 2.1x –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∞ –Ω–µ –±—ã—Å—Ç—Ä–µ–µ. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. Overhead MemorySegment - Arena.ofShared() –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
2. Bounds checking - MemorySegment –∏–º–µ–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —á–µ–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ byte[]
3. Vector API warmup - JIT –º–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Vector API –∫–æ–¥
4. MemorySegment.copy() - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–π—Ç–æ–≤ –¥–ª—è ByteArrayKey –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

üí° –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏:

1. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ Java API != –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –Ω–æ–≤—ã–µ API –¥–æ–±–∞–≤–ª—è—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–æ –º–æ–≥—É—Ç –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å—é
2. –†—É—á–Ω–∞—è SWAR –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –Ω–∞ —ç—Ç–æ–π –∑–∞–¥–∞—á–µ, —á–µ–º Vector API (–Ω–∞ —Ç–µ–∫—É—â–µ–π JVM)
3. Shared Arena –∏–º–µ–µ—Ç overhead —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. Vector API —Ç—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ JVM —Ñ–ª–∞–≥–æ–≤ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

üöÄ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å VectorApiSolution:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Arena.ofConfined() —Å —Ä—É—á–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å MemorySegment.copy(), —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å –±–∞–π—Ç–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å JVM —Ñ–ª–∞–≥–∏: -XX:+UnlockExperimentalVMOptions -XX:+UseVectorAPI
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å —Å JFR –¥–ª—è –ø–æ–∏—Å–∫–∞ —É–∑–∫–∏—Ö –º–µ—Å—Ç
